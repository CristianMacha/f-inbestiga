<mat-card>
  <mat-card-title>{{title | titlecase}}</mat-card-title>
  <mat-card-content>
    <form [formGroup]="requirementForm">
      <div class="row g-2">
        <div class="col-md-12">
          <label>Titulo</label>
          <div class="input-group input-group-static">
            <input class="form-control" formControlName="name">
          </div>
        </div>
        <div class="col-md-12">
          <label>Descripcion</label>
          <div class="input-group input-group-static">
            <input class="form-control" formControlName="description">
          </div>
        </div>
        <div class="col-md-2">
          <div class="d-flex align-items-center justify-content-center">
            <button
              mat-mini-fab
              color="primary"
              (click)="files.click()">
              <mat-icon>upload_file</mat-icon>
            </button>
          </div>
          <input
            type="file"
            class="form-control"
            hidden
            #files
            (change)="handleSelectPhoto($event)">
        </div>
        <div class="col-md-10">
          <label>Nombre del documento</label>
          <div class="input-group input-group-static">
            <input class="form-control" formControlName="filename">
          </div>
        </div>
      </div>
    </form>
    <div class="my-4">
      <div *ngIf="loading && file">
        <div class="progress">
          <div class="progress-bar bg-gradient-info" role="progressbar" aria-valuemin="0"
               aria-valuemax="100" [style.width]="progressUploadFile + '%'"></div>
        </div>
      </div>
    </div>
    <p class="m-0 text-danger" *ngIf="retryUploadFile">Algo salio mal</p>
  </mat-card-content>
  <mat-card-actions [align]="'end'">
    <button mat-button (click)="handleCancel()">Cancelar</button>

    <button
      mat-flat-button
      color="primary"
      *ngIf="retryUploadFile"
      [disabled]="loading"
      (click)="uploadImage()">Reintentar subir archivo
    </button>
    <button
      mat-flat-button
      color="primary"
      [disabled]="requirementForm.invalid || !fileSelected || loading"
      *ngIf="!retryUploadFile"
      (click)="handleCreate()">{{btnActionText}}</button>
  </mat-card-actions>
</mat-card>

